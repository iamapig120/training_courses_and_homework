!function(){function e(){var e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHttp");e?this.xhr=e:alert("您的浏览器不支持XMLHttpRequest对象")}e.prototype.send=function(e){if("object"==typeof e&&null!==e){e.method=e.method?e.method.toUpperCase():"GET",e.url=e.url||"",e.async=0!=e.async,e.data=e.data||null,e.resType=e.resType||"text",e.success=e.success||function(e){console.log(e)},e.error=e.error||function(e){console.log("error: status="+e)};var t=["t="+(new Date).valueOf()];if(e.data)for(var s in e.data)t.push(s+"="+e.data[s]);var r=t.join("&");this.xhr.onreadystatechange=function(){if(4==this.xhr.readyState)if(200==this.xhr.status){if("text"==e.resType)e.success(this.xhr.responseText);else if("xml"==e.resType)e.success(this.xhr.responseXML);else if("json"==e.resType)try{var t=new Function("return "+this.xhr.responseText);e.success(t())}catch(t){console.log(this.xhr.responseText),e.error("Not a json")}}else e.error(this.xhr.status)}.bind(this),"GET"==e.method?this.xhr.open("GET",e.url+"?"+r,e.async):"POST"==e.method&&(this.xhr.open("POST",e.url,e.async),this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8")),this.xhr.send(r)}else alert("请正确配置参数")},e.prototype.abort=function(){this.xhr.abort()},window.Ajax=e}();